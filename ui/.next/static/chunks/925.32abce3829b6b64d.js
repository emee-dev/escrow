"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[925],{1381:function(t,e,i){i.d(e,{E:function(){return s},a:function(){return n},i:function(){return o}}),(0,i(1589).e)();var s={ATTRIBUTE:1,CHILD:2,PROPERTY:3,BOOLEAN_ATTRIBUTE:4,EVENT:5,ELEMENT:6},n=t=>(...e)=>({_$litDirective$:t,values:e}),o=class{constructor(t){}get _$AU(){return this._$AM._$AU}_$AT(t,e,i){this.t=t,this._$AM=e,this.i=i}_$AS(t,e){return this.update(t,e)}update(t,e){return this.render(...e)}}},6700:function(t,e,i){function s(t){let e=document.getElementById(`superviz-${t}-styles`);if(!e)return;let i=new CSSStyleSheet;i.replaceSync(e.textContent),this.shadowRoot.adoptedStyleSheets=[...this.shadowRoot.adoptedStyleSheets,i]}i.d(e,{n:function(){return s}}),(0,i(1589).e)()},3240:function(t,e,i){i.d(e,{u:function(){return r}});var s=i(1381),n=i(7250),o=i(1589);(0,o.e)();var r=(0,s.a)(class extends s.i{constructor(t){var e;if(super(t),t.type!==s.E.ATTRIBUTE||"class"!==t.name||(null==(e=t.strings)?void 0:e.length)>2)throw Error("`classMap()` can only be used in the `class` attribute and must be the only part in the attribute.")}render(t){return" "+Object.keys(t).filter(e=>t[e]).join(" ")+" "}update(t,[e]){var i,s;if(void 0===this.st){for(let s in this.st=new Set,void 0!==t.strings&&(this.nt=new Set(t.strings.join(" ").split(/\s/).filter(t=>""!==t))),e)e[s]&&!(null!=(i=this.nt)&&i.has(s))&&this.st.add(s);return this.render(e)}let o=t.element.classList;for(let t of this.st)t in e||(o.remove(t),this.st.delete(t));for(let t in e){let i=!!e[t];i===this.st.has(t)||null!=(s=this.nt)&&s.has(t)||(i?(o.add(t),this.st.add(t)):(o.remove(t),this.st.delete(t)))}return n.E}});(0,o.e)()},925:function(t,e,i){i.r(e),i.d(e,{CommentsFloatButton:function(){return u}});var s=i(9583),n=i(3240);i(1381);var o=i(6700),r=i(3605),l=i(7250),c=i(1589);(0,c.e)();var d=(0,r.D)(l.a),a=[d.styles,s.d],u=class extends d{constructor(){super(),this.onTogglePinActive=({detail:{isActive:t}})=>{this.isActive=t},this.isHidden=!0,this.positionStyles="top: 20px; left: 20px;",this.shouldHide=!1,this.commentsPosition="left"}firstUpdated(t){super.firstUpdated(t),this.updateComplete.then(()=>{o.n.call(this,["comments"])}),this.mouseHovering=!1;let e=this.shadowRoot.querySelector(".comments__floating-button");e.addEventListener("mouseenter",()=>{setTimeout(()=>e.classList.add("comments-floating-button-hovered"),300),this.mouseHovering=!0}),e.addEventListener("mouseleave",()=>{e.classList.remove("comments-floating-button-hovered"),this.mouseHovering=!1})}toggle(){this.emitEvent("toggle",{})}connectedCallback(){super.connectedCallback(),window.document.body.addEventListener("toggle-annotation-sidebar",()=>{this.isHidden=!this.isHidden}),window.document.body.addEventListener("toggle-pin-active",this.onTogglePinActive)}disconnectedCallback(){super.disconnectedCallback(),window.document.body.removeEventListener("toggle-annotation-sidebar",()=>{this.isHidden=!this.isHidden}),window.document.body.removeEventListener("toggle-pin-active",this.onTogglePinActive)}updated(t){super.updated(t),this.updateComplete.then(()=>{let t=this.shadowRoot.querySelector(".comments__floating-button");t&&t.setAttribute("style",this.positionStyles)})}calculateIfShouldHide(){var t;let e=null==(t=document.getElementsByTagName("superviz-comments")[0])?void 0:t.shadowRoot.querySelector(".superviz-comments"),i=this.shadowRoot.querySelector(".comments__floating-button");if(!e||!i)return;let{left:s,right:n,top:o,bottom:r}=e.getBoundingClientRect(),{left:l,right:c,top:d,bottom:a}=i.getBoundingClientRect();this.shouldHide=(o<a&&d<r||r>d&&a>o)&&(n>l&&c>s||s<c&&l<n)}render(){this.calculateIfShouldHide();let t={"comments__floating-button":!0,"hide-button":!this.isHidden&&this.shouldHide,"is-active":this.isActive,"is-inactive":!this.isActive},e={"comments__floating-button-text-box":!0,"comments__floating-button-text-box--hovered":this.mouseHovering},i={text:!0,"text-big":!0,"text-bold":!0,"not-hovered":!this.mouseHovering,"comments__floating-button__text":!0,textActive:this.isActive,textInactive:!this.isActive};return(0,l.V)` <button @click=${this.toggle} class="${(0,n.u)(t)}">
      <div class="comments__floating-button__icon">
        <superviz-icon
          size="sm"
          name="comment"
          color=${this.mouseHovering||this.isActive?"white":"black"}
        ></superviz-icon>
        <svg class="cross" width="8px" height="8px" viewBox="0 0 8 8">
          <rect class="cross-bar-1" x="0" y="3" width="8px" height="2px" />
          <rect class="cross-bar-2" x="0" y="3" width="8px" height="2px" />
        </svg>
      </div>
      <div class=${(0,n.u)(e)}>
        <p class="${(0,n.u)(i)} comment">Comment</p>
        <p class="${(0,n.u)(i)} cancel">Cancel</p>
      </div>
    </button>`}};u.styles=a,u.properties={positionStyles:{type:String},isHidden:{type:Boolean},commentsPosition:{type:String},isActive:{type:Boolean},mouseHovering:{type:Boolean}},u=(0,c.D)([(0,l.t)("superviz-comments-button")],u)}}]);