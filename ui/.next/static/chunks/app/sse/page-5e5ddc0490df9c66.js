(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2001],{7631:function(e,t,n){Promise.resolve().then(n.bind(n,2982))},2982:function(e,t,n){"use strict";n.r(t);var s=n(9571),a=n(7621);t.default=()=>{let[e,t]=(0,a.useState)([]),[n,r]=(0,a.useState)("");(0,a.useEffect)(()=>{let e=new EventSource("".concat("http://localhost:4560","/sse"));return e.onmessage=e=>{let n=JSON.parse(e.data);t(e=>[...e,n])},()=>{e.close()}},[]);let i=async e=>{await fetch("/api/chat",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({sender:e,text:n})}),r("")};return(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{children:e.map((e,t)=>(0,s.jsxs)("div",{children:[(0,s.jsxs)("strong",{children:[10===e.sender?"You":"Friend",":"]})," ",e.text]},t))}),(0,s.jsx)("input",{type:"text",value:n,onChange:e=>r(e.target.value),placeholder:"Type your message"}),(0,s.jsx)("button",{onClick:()=>i(10),children:"Send as You"}),(0,s.jsx)("button",{onClick:()=>i(20),children:"Send as Friend"})]})}}},function(e){e.O(0,[4250,7652,1744],function(){return e(e.s=7631)}),_N_E=e.O()}]);