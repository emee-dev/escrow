"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3229],{1381:function(t,e,i){i.d(e,{E:function(){return s},a:function(){return n},i:function(){return l}}),(0,i(1589).e)();var s={ATTRIBUTE:1,CHILD:2,PROPERTY:3,BOOLEAN_ATTRIBUTE:4,EVENT:5,ELEMENT:6},n=t=>(...e)=>({_$litDirective$:t,values:e}),l=class{constructor(t){}get _$AU(){return this._$AM._$AU}_$AT(t,e,i){this.t=t,this._$AM=e,this.i=i}_$AS(t,e){return this.update(t,e)}update(t,e){return this.render(...e)}}},2771:function(t,e,i){i.d(e,{j:function(){return f}});var s=i(1381),n=i(7250),l=i(1589);(0,l.e)(),(0,l.e)();var{I:r}=n.J,a=()=>document.createComment(""),o=(t,e,i)=>{var s;let n=t._$AA.parentNode,l=void 0===e?t._$AB:e._$AA;if(void 0===i)i=new r(n.insertBefore(a(),l),n.insertBefore(a(),l),t,t.options);else{let e=i._$AB.nextSibling,r=i._$AM,a=r!==t;if(a){let e;null==(s=i._$AQ)||s.call(i,t),i._$AM=t,void 0!==i._$AP&&(e=t._$AU)!==r._$AU&&i._$AP(e)}if(e!==l||a){let t=i._$AA;for(;t!==e;){let e=t.nextSibling;n.insertBefore(t,l),t=e}}}return i},u=(t,e,i=t)=>(t._$AI(e,i),t),d={},p=(t,e=d)=>t._$AH=e,v=t=>t._$AH,c=t=>{var e;null==(e=t._$AP)||e.call(t,!1,!0);let i=t._$AA,s=t._$AB.nextSibling;for(;i!==s;){let t=i.nextSibling;i.remove(),i=t}},h=(t,e,i)=>{let s=new Map;for(let n=e;n<=i;n++)s.set(t[n],n);return s},f=(0,s.a)(class extends s.i{constructor(t){if(super(t),t.type!==s.E.CHILD)throw Error("repeat() can only be used in text expressions")}dt(t,e,i){let s;void 0===i?i=e:void 0!==e&&(s=e);let n=[],l=[],r=0;for(let e of t)n[r]=s?s(e,r):r,l[r]=i(e,r),r++;return{values:l,keys:n}}render(t,e,i){return this.dt(t,e,i).values}update(t,[e,i,s]){var l;let r=v(t),{values:a,keys:d}=this.dt(e,i,s);if(!Array.isArray(r))return this.ut=d,a;let f=null!=(l=this.ut)?l:this.ut=[],A=[],$,_,m=0,y=r.length-1,E=0,g=a.length-1;for(;m<=y&&E<=g;)if(null===r[m])m++;else if(null===r[y])y--;else if(f[m]===d[E])A[E]=u(r[m],a[E]),m++,E++;else if(f[y]===d[g])A[g]=u(r[y],a[g]),y--,g--;else if(f[m]===d[g])A[g]=u(r[m],a[g]),o(t,A[g+1],r[m]),m++,g--;else if(f[y]===d[E])A[E]=u(r[y],a[E]),o(t,r[m],r[y]),y--,E++;else if(void 0===$&&($=h(d,E,g),_=h(f,m,y)),$.has(f[m])){if($.has(f[y])){let e=_.get(d[E]),i=void 0!==e?r[e]:null;if(null===i){let e=o(t,r[m]);u(e,a[E]),A[E]=e}else A[E]=u(i,a[E]),o(t,r[m],i),r[e]=null;E++}else c(r[y]),y--}else c(r[m]),m++;for(;E<=g;){let e=o(t,A[g+1]);u(e,a[E]),A[E++]=e}for(;m<=y;){let t=r[m++];null!==t&&c(t)}return this.ut=d,p(t,A),n.E}});(0,l.e)()},5962:function(t,e,i){i.r(e),i.d(e,{CommentsMentionList:function(){return d}});var s=i(2771),n=i(9583);i(1381);var l=i(3605),r=i(7250),a=i(1589);(0,a.e)();var o=(0,l.D)(r.a),u=[o.styles,n.g],d=class extends o{constructor(){super(),this.showMentionList=()=>{var t;let e=null==(t=this.shadowRoot)?void 0:t.getElementById("mention-list");null==e||e.style.setProperty("display","block"),null==e||e.style.setProperty("margin-top","1px"),e.addEventListener("wheel",this.stopHandleZoom)},this.hideMentionList=()=>{var t;let e=null==(t=this.shadowRoot)?void 0:t.getElementById("mention-list");e.removeEventListener("wheel",this.stopHandleZoom),null==e||e.style.setProperty("display","none")},this.selectParticipant=t=>{this.emitEvent("participant-selected",t,{bubbles:!1,composed:!1}),this.hideMentionList()},this.stopHandleZoom=t=>{var e;let i=null==(e=this.shadowRoot)?void 0:e.getElementById("mention-list");i.scrollTop+=t.deltaY,t.preventDefault()},this.participants=[]}updated(t){if(t.has("participants")&&this.participants.length>0){this.showMentionList();return}this.hideMentionList()}getAvatar(t){var e;return t.avatar?(0,r.V)`<img class="avatar" src=${t.avatar} />`:(0,r.V)`<div class="default-avatar">
      <p class="text text-bold">${(null==(e=t.name[0])?void 0:e.toUpperCase())||"A"}</p>
    </div>`}render(){let t=t=>(0,r.V)`
      <div class="mention-item" @click=${()=>this.selectParticipant(t)}>
        ${this.getAvatar(t)}
        <div class="avatar-type">${t.name}</div>
      </div>
    `;return(0,r.V)`
      <div id="mention-list">
        ${(0,s.j)(this.participants,t=>t.id,e=>(0,r.V)` ${t(e)} `)}
      </div>
    `}};d.styles=u,d.properties={participants:{type:Object}},d=(0,a.D)([(0,r.t)("superviz-comments-mention-list")],d)}}]);